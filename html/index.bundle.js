!function(e){function t(i){if(n[i])return n[i].exports;var a=n[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=7)}({7:function(e,t,n){"use strict";window.addEventListener("load",function(){function e(){r.innerText=L?"☑ Tilt control":"☐ Tilt control",r.style.backgroundColor=L?"#0bf":"#ddd"}function t(){L?(p=T/20,b=-y/20):h||w?(p=g-u.offsetLeft-l/2,b=s/2-(m-u.offsetTop),p/=l/2,b/=s/2):(p=0,b=0),p=Math.min(Math.max(p,-1),1),b=Math.min(Math.max(b,-1),1)}function n(e,t){if(1===o.readyState){var n=new DataView(new ArrayBuffer(3));n.setUint8(0),n.setInt8(1,127*e),n.setInt8(2,127*t),o.send(n.buffer)}}function i(){t();var e=(p+1)/2*l,n=(-b+1)/2*s;f.lineWidth=10,f.clearRect(0,0,l,s),f.beginPath(),f.moveTo(l/2,s/2),f.lineTo(e,n),f.stroke(),f.lineWidth=2,f.beginPath(),f.arc(e,n,15,0,2*Math.PI),f.fill(),f.stroke(),window.requestAnimationFrame(i)}var a=function(e){return document.getElementById(e)},o=new WebSocket("ws://192.168.4.1/ws");o.binaryType="arraybuffer";var r=a("tiltBtn"),d=a("battery"),u=a("joystick"),c=window.devicePixelRatio,l=u.clientWidth,s=u.clientHeight;u.width=l*c,u.height=s*c;var f=u.getContext("2d");f.lineWidth=10,f.strokeStyle="black",f.fillStyle="red",f.scale(c,c);var w=!1,h=!1,v=null,g=0,m=0,p=0,b=0,y=0,T=0,x=!1,L=!1;o.addEventListener("message",function(e){var t=new DataView(e.data),n=t.getUint8(0);if(3===n&&3===e.data.byteLength){var i=t.getInt16(1,!0)/100;d.innerText=i.toFixed(2)}}),window.addEventListener("mousemove",function(e){w&&(g=e.pageX,m=e.pageY)}),u.addEventListener("mousedown",function(e){w=!0,g=e.pageX,m=e.pageY}),window.addEventListener("mouseup",function(e){w=!1}),u.addEventListener("touchstart",function(e){v=e.changedTouches[0].identifier,g=e.changedTouches[0].pageX,m=e.changedTouches[0].pageY,h=!0}),window.addEventListener("touchend",function(e){h&&null!==e.changedTouches.item(v)&&(h=!1)}),window.addEventListener("touchmove",function(e){var t=e.changedTouches.item(v);h&&null!==t&&(g=t.pageX,m=t.pageY),e.preventDefault()}),window.addEventListener("deviceorientation",function(t){null!==t.beta&&null!==t.gamma&&(x||(x=!0,r.style.display="inline",e()),y=t.beta,T=t.gamma)}),r.addEventListener("click",function(){L=!L,e()}),window.setInterval(function(){n(p,b)},100),window.requestAnimationFrame(i)})}});