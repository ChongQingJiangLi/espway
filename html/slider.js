'use strict';riot.tag2('slider','<div class="inner-container"> <div> <span class="bold">{opts.label}</span> = <span>{mantissa}</span> \xD7 10<sup>{exponent}</sup> </div> <div> <button onclick="{toggle}">{enabled ? \'\u2611 On\' : \'\u2610 Off\'}</button> <button onclick="{centerClick}" disabled="{!enabled}">Center</button> <button onclick="{resetClick}" disabled="{!enabled}">Reset</button> </div> </div> <div class="sliderInnerContainer"> <div class="bound left"> <span class="times" show="{centered}">\xD7 </span>10<sup>{boundMin}</sup> </div> <input type="range" ref="slider" oninput="{sliderChange}" disabled="{!enabled}" min="{boundMin}" max="{boundMax}" step="{step}"> <div class="bound right"> <span class="times" show="{centered}">\xD7 </span>10<sup>{boundMax}</sup> </div> </div>','','my-value="{value}"',function(){var c=this;function b(d){return Math.log(d)*Math.LOG10E}this.setBounds=function(d,f){this.boundMin=d,this.boundMax=f,this.step=(f-d)/100}.bind(this),this.sliderChange=function(){var f=Math.pow(10,this.refs.slider.value);this.centered&&(f*=this.centerValue),this.value=f}.bind(this),this.refreshValue=function(){var d=b(this.value);if(this.centered&&(d-=b(this.centerValue)),this.refs.slider.value=d,0===this.value)this.mantissa=0,this.exponent=0;else{var f=Math.ceil(b(this.value)),g=Math.round(this.value*Math.pow(10,2-f));100==g&&(f+=1,g=10),this.mantissa=(g/10).toFixed(1),this.exponent=f-1}}.bind(this),this.enable=function(){this.resetSlider(),this.value=Math.pow(10,this.boundMin),this.enabled=!0}.bind(this),this.disable=function(){this.value=0,this.enabled=!1}.bind(this),this.resetSlider=function(){this.centered=!1,this.setBounds(this.opts.boundMin,this.opts.boundMax)}.bind(this),this.centerClick=function(){this.centered=!0,this.centerValue=this.value,this.setBounds(-1,1),this.refs.slider.value=0}.bind(this),this.resetClick=function(){this.resetSlider()}.bind(this),this.toggle=function(){this.enabled?this.disable():this.enable()}.bind(this),this.resetSlider(),this.enabled=!1,this.on('mount',function(){c.value=c.opts.myValue,0<c.value&&(c.enabled=!0),c.update()}),this.on('update',function(){c.refreshValue()})});